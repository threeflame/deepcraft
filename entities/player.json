{
  "format_version": "1.20.10",
  "minecraft:entity": {
    "description": {
      "identifier": "minecraft:player",
      "is_spawnable": false,
      "is_summonable": false,
      "is_experimental": false,
      "scripts": {
        "animate": [ "tag_attacking", "tag_fire", "tag_draw_bow", "swing_detect" ]
      },
      "animations": {
        "tag_attacking": "controller.animation.tag_attacking",
        "tag_fire": "controller.animation.tag_fire",
        "tag_draw_bow": "controller.animation.tag_draw_bow",
        "swing_detect": "controller.animation.deepcraft.swing_detect"
      }
    },
    
    "component_groups": {
      "reset": {
        "minecraft:nameable": { "always_show": true },
        "minecraft:health": { "value": 20, "max": 20 },
        "minecraft:attack": { "damage": 1 },
        "minecraft:movement": { "value": 0.1 },
        "minecraft:knockback_resistance": { "max": 0.0 }
      },

      "deepcraft:knocked_state": {
        "minecraft:knockback_resistance": { "max": 1.0 }
      },
 
      "knockback_resistance100": { "minecraft:knockback_resistance": { "max": 1.0 } },
      "knockback_resistance_reset": { "minecraft:knockback_resistance": { "max": 0.0 } },
      "scale_reset": { "minecraft:scale": { "value": 1.0 } }
    },
    
    "components": {
      "minecraft:experience_reward": { "on_death": "Math.Min(query.player_level * 7, 100)" },
      "minecraft:type_family": { "family": [ "player" ] },
      "minecraft:is_hidden_when_invisible": {},
      "minecraft:loot": { "table": "loot_tables/empty.json" },
      "minecraft:collision_box": { "width": 0.6, "height": 1.8 },
      "minecraft:can_climb": {},
      
      "minecraft:movement": { "value": 0.1 },
      "minecraft:movement.basic": {}, 
      "minecraft:jump.static": {},     
      "minecraft:input_ground_controlled": {}, 
      
      "minecraft:attack": { "damage": 1 },
      "minecraft:health": { "value": 20, "max": 20 }, 
      "minecraft:player.saturation": { "value": 20, "max": 20 },
      "minecraft:player.exhaustion": { "value": 0, "max": 20 },
      "minecraft:player.level": { "value": 0, "max": 24791 },
      "minecraft:player.experience": { "value": 0, "max": 1 },
      "minecraft:breathable": { "total_supply": 15, "suffocate_time": -1 },
      "minecraft:nameable": { "always_show": true, "allow_name_tag_renaming": false },
      
      "minecraft:environment_sensor": {
        "triggers": [
          {
            "filters": {
              "all_of": [
                { "test": "has_mob_effect", "subject": "self", "value": "bad_omen" },
                { "test": "is_in_village", "subject": "self", "value": true }
              ]
            },
            "event": "minecraft:trigger_raid"
          },
          {
            "filters": { "test": "has_tag", "subject": "self", "value": "deepcraft:knocked" },
            "event": "deepcraft:start_knockdown"
          },
          {
            "filters": { "test": "has_tag", "subject": "self", "operator": "!=", "value": "deepcraft:knocked" },
            "event": "deepcraft:stop_knockdown"
          }
        ]
      },

      "minecraft:physics": { 
        "has_gravity": true,
        "has_collision": true,
        "push_towards_closest_space": true 
      },
      "minecraft:pushable": { "is_pushable": true, "is_pushable_by_piston": true }
    },
    
    "events": {
      "reset": { 
          "add": { "component_groups": [ "reset" ] },
          "remove": { "component_groups": [ "deepcraft:knocked_state" ] }
      },
      
      "deepcraft:start_knockdown": { "add": { "component_groups": [ "deepcraft:knocked_state" ] } },
      "deepcraft:stop_knockdown": { "remove": { "component_groups": [ "deepcraft:knocked_state" ] } },

      "knockback_resistance100": { "add": { "component_groups": [ "knockback_resistance100" ] } },
      "knockback_resistance_reset": { "add": { "component_groups": [ "knockback_resistance_reset" ] } },
      "scale_reset": { "add": { "component_groups": [ "scale_reset" ] } }
    }
  }
}